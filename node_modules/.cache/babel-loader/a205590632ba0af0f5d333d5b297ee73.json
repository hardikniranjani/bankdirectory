{"ast":null,"code":"import _slicedToArray from\"C:/Users/hardi/bank_search/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import TableData from\"./datatable/index\";import\"./HomePage.css\";import Loading from\"./Loading\";import{trackPromise}from\"react-promise-tracker\";import Pagination from\"./datatable/Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),city=_useState6[0],setCity=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];var _useState9=useState(100),_useState10=_slicedToArray(_useState9,1),postsPerPage=_useState10[0];useEffect(function(){trackPromise(fetch(\"https://vast-shore-74260.herokuapp.com/banks?city=\".concat(city)).then(function(res){return res.json();}).then(function(result){return setData(result);}));},[city]);var indexOfLastPost=currentPage*postsPerPage;var indexOfFirstPost=indexOfLastPost-postsPerPage;var currentPosts=data.slice(indexOfFirstPost,indexOfLastPost);var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};var handleClick=function handleClick(e){return setCity(e.target.value);};function search(data){var columns=data[0]&&Object.keys(data[0]);return data.filter(function(row){return columns.some(function(column){return row[column].toString().toLowerCase().indexOf(input.toLowerCase())>-1;});});}return/*#__PURE__*/_jsxs(\"div\",{className:\"homepage\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginLeft:\"25px\",marginTop:\"20px\"},children:\"Bank Branches\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"topnav\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown\",children:/*#__PURE__*/_jsxs(\"select\",{onClick:handleClick,className:\"dropbtn\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"MUMBAI\"}),\";\",/*#__PURE__*/_jsx(\"option\",{children:\"DELHI\"}),\";\",/*#__PURE__*/_jsx(\"option\",{children:\"AHMEDABAD\"}),\";\",/*#__PURE__*/_jsx(\"option\",{children:\"CHENNAI\"}),\";\",/*#__PURE__*/_jsx(\"option\",{children:\"BANGLORE\"}),\";\"]})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search..\",value:input,onChange:function onChange(e){return setInput(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table\",children:[/*#__PURE__*/_jsx(Loading,{}),/*#__PURE__*/_jsx(TableData,{data:search(currentPosts)}),/*#__PURE__*/_jsx(\"div\",{className:\"pagelist\",children:/*#__PURE__*/_jsx(Pagination,{postsPerPage:postsPerPage,totalPosts:data.length,paginate:paginate})})]})]});}export default HomePage;","map":{"version":3,"sources":["C:/Users/hardi/bank_search/src/HomePage.js"],"names":["React","useEffect","useState","TableData","Loading","trackPromise","Pagination","HomePage","data","setData","input","setInput","city","setCity","currentPage","setCurrentPage","postsPerPage","fetch","then","res","json","result","indexOfLastPost","indexOfFirstPost","currentPosts","slice","paginate","pageNumber","handleClick","e","target","value","search","columns","Object","keys","filter","row","some","column","toString","toLowerCase","indexOf","marginLeft","marginTop","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport TableData from \"./datatable/index\";\r\nimport \"./HomePage.css\";\r\nimport Loading from \"./Loading\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\nimport Pagination from \"./datatable/Pagination\";\r\n\r\nfunction HomePage() {\r\n  const [data, setData] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [postsPerPage] = useState(100);\r\n\r\n  useEffect(() => {\r\n    trackPromise(\r\n      fetch(`https://vast-shore-74260.herokuapp.com/banks?city=${city}`)\r\n        .then((res) => res.json())\r\n        .then((result) => setData(result))\r\n    );\r\n  }, [city]);\r\n\r\n  const indexOfLastPost = currentPage * postsPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n  const currentPosts = data.slice(indexOfFirstPost, indexOfLastPost);\r\n  const paginate = pageNumber => setCurrentPage(pageNumber);\r\n\r\n\r\n  const handleClick = (e) => {\r\n    return setCity(e.target.value);\r\n  };\r\n\r\n  function search(data) {\r\n    const columns = data[0] && Object.keys(data[0]);\r\n    return data.filter((row) =>\r\n      columns.some(\r\n        (column) =>\r\n          row[column].toString().toLowerCase().indexOf(input.toLowerCase()) > -1\r\n      )\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"homepage\">\r\n      <h1 style={{ marginLeft: \"25px\", marginTop: \"20px\"}}>Bank Branches</h1>\r\n      <div className=\"topnav\">\r\n        <div className=\"dropdown\">\r\n          <select onClick={handleClick} className=\"dropbtn\">\r\n            <option>MUMBAI</option>;\r\n            <option>DELHI</option>;\r\n            <option>AHMEDABAD</option>;\r\n            <option>CHENNAI</option>;\r\n            <option>BANGLORE</option>;\r\n          </select>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search..\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"table\">\r\n        <Loading />\r\n        <TableData  data={search(currentPosts)} />\r\n        <div className=\"pagelist\">\r\n        <Pagination\r\n        postsPerPage={postsPerPage}\r\n        totalPosts={data.length}\r\n        paginate={paginate}\r\n      />\r\n      </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"]},"metadata":{},"sourceType":"module"}